# Project Structure

This document outlines the directory structure and purpose of key files and folders in the AI Code Reviewer Next.js application.

```
.
├── app/                      # Next.js App Router: Core application logic and UI
│   ├── (app_pages)/          # Group for core authenticated app routes
│   │   ├── profile/
│   │   │   ├── actions.ts    # Server Actions for profile updates
│   │   │   ├── page.tsx      # Profile page (Server Component)
│   │   │   └── ProfileClientPage.tsx # Client Component for profile interactions
│   │   ├── projects/
│   │   │   ├── page.tsx      # Projects list page (Server Component)
│   │   │   └── ProjectsClientPage.tsx # Client Component for project interactions
│   │   ├── reviewer/
│   │   │   ├── page.tsx      # Main AI Reviewer page (Server Component)
│   │   │   └── ReviewerClientPage.tsx # Client Component for reviewer interactions
│   │   └── login/
│   │       └── page.tsx      # Login page (Server Component, wraps AuthForm)
│   ├── (landing_pages)/      # Group for static landing/info pages
│   │   ├── terms/
│   │   │   └── page.tsx      # Terms of Service page
│   │   ├── privacy/
│   │   │   └── page.tsx      # Privacy Policy page
│   │   └── page.tsx          # Root page - Landing Page (Server Component)
│   ├── actions/              # Server Actions (global or not tied to a specific route group)
│   │   ├── geminiActions.ts  # Server Action for Gemini API calls
│   │   └── projectActions.ts # Server Actions for Project CRUD
│   ├── auth/
│   │   └── callback/
│   │       └── route.ts      # Route Handler for Supabase OAuth/Magic Link callback
│   ├── globals.css           # Global styles, Tailwind base, CSS variables
│   └── layout.tsx            # Root layout for the entire application
├── components/               # Shared React components
│   ├── auth/
│   │   └── AuthForm.tsx      # Client Component for login/signup forms
│   ├── landing/              # Components specific to the landing page
│   │   ├── LandingNavbar.tsx
│   │   ├── HeroSection.tsx
│   │   ├── FeaturesSection.tsx
│   │   ├── HowItWorksSection.tsx
│   │   ├── TestimonialsSection.tsx
│   │   ├── IntegrationsSection.tsx
│   │   ├── PricingSection.tsx
│   │   ├── FaqSection.tsx
│   │   ├── CtaSection.tsx
│   │   └── LandingFooter.tsx
│   ├── review/               # Components for the AI reviewer interface
│   │   ├── CodeInput.tsx
│   │   ├── ModelSelector.tsx
│   │   └── ReviewOutput.tsx
│   ├── ui/                   # ShadCN UI components (many auto-generated) and custom UI wrappers
│   │   ├── CustomAlert.tsx   # Custom wrapper around ShadCN Alert
│   │   ├── Spinner.tsx       # Custom loading spinner
│   │   ├── alert.tsx         # (ShadCN generated)
│   │   ├── button.tsx        # (ShadCN generated)
│   │   ├── card.tsx          # (ShadCN generated)
│   │   ├── dialog.tsx        # (ShadCN generated)
│   │   ├── input.tsx         # (ShadCN generated)
│   │   ├── label.tsx         # (ShadCN generated)
│   │   ├── select.tsx        # (ShadCN generated)
│   │   ├── sheet.tsx         # (ShadCN generated)
│   │   └── ... (other ShadCN components)
│   └── Navbar.tsx            # Main application navigation bar (for authenticated users)
├── lib/                      # Utility functions, constants, client initializations
│   ├── constants.ts          # Application-wide constants (e.g., model names)
│   ├── prisma.ts             # Prisma client instance
│   ├── supabase/
│   │   ├── client.ts         # Supabase browser client
│   │   ├── middleware.ts     # Supabase utilities for Next.js middleware
│   │   └── server.ts         # Supabase server client (for Server Components, Route Handlers, Server Actions)
│   └── utils.ts              # General utility functions (e.g., `cn` for ShadCN UI)
├── prisma/                   # Prisma ORM configuration
│   ├── migrations/           # Database migration files (generated by Prisma)
│   │   └── MIGRATION_README.md # Info about migrations
│   ├── schema.prisma         # Prisma schema definition (database models)
│   └── seed.ts               # Script for seeding the database
├── public/                   # Static assets (images, fonts, favicon, etc.)
│   └── ...
├── services/                 # Client-side services or mock API implementations
│   └── mockAIService.ts      # Simulates API calls for non-Gemini AI models
├── types/                    # TypeScript type definitions
│   └── index.ts              # Main type definitions file
├── .env.local                # Local environment variables (DO NOT COMMIT)
├── .env.local.example        # Example environment variables file (commit this)
├── .eslintrc.json            # ESLint configuration
├── .gitignore                # Files and folders to ignore by Git
├── .windsurffiles.sh         # Custom build/task script (as requested)
├── components.json           # ShadCN UI configuration
├── middleware.ts             # Next.js middleware (for Supabase session management)
├── next.config.mjs           # Next.js configuration
├── package.json              # Project dependencies and scripts (uses pnpm)
├── postcss.config.js         # PostCSS configuration (for Tailwind CSS)
├── README.md                 # This file: Project overview and setup instructions
├── CODE_IMPLEMENTATION.md    # Details on how key features are implemented
├── PROJECT_STRUCTURE.md      # This file: Detailed project structure
├── TECHNICAL_OVERVIEW.md     # High-level architecture and tech choices
└── tsconfig.json             # TypeScript configuration
```

## Key Directory Explanations

### `app/`

This is the heart of the Next.js application, utilizing the App Router.

- **Route Groups `(app_pages)` and `(landing_pages)`:** These parentheses denote route groups, which organize routes without affecting the URL path. This helps structure pages for authenticated app users versus public landing pages.
- **`page.tsx`:** Defines the UI for a specific route. These are often Server Components.
- **`layout.tsx`:** Defines a shared UI structure for a segment and its children. `app/layout.tsx` is the root layout.
- **`actions.ts` files:** Contain Server Actions, which are functions that run on the server and can be called from Client Components for mutations or data fetching that requires server-side context.
- **`route.ts` files:** Define API endpoints or custom route handlers (e.g., `app/auth/callback/route.ts`).

### `components/`

Reusable UI components.

- The `ui/` subdirectory is the conventional place for ShadCN UI components, which are typically added via the ShadCN CLI.
- Other subdirectories like `auth/`, `review/`, `landing/` group components by feature or section.

### `lib/`

Contains shared utilities, client initializations, and constants.

- `supabase/`: Code for initializing Supabase clients for different contexts (browser, server, middleware).
- `prisma.ts`: Singleton instance of the Prisma client.
- `constants.ts`: Shared constants to avoid magic strings/numbers.

### `prisma/`

All database-related configurations managed by Prisma.

- `schema.prisma`: The single source of truth for your database schema and models.
- `migrations/`: Stores SQL migration files generated by `prisma migrate`. Each subfolder is a timestamped migration.
- `seed.ts`: A script to populate your database with initial data, useful for development and testing.

### `public/`

Static files served directly by Next.js at the root path (e.g., images, favicon).

### `services/`

Primarily for client-side logic that might interact with external services or provide mock implementations. In this project, it's used for the mock AI review services.

### `types/`

Global TypeScript type definitions used across the application.

This structure aims for a balance of Next.js conventions, feature-based organization, and clarity for maintainability and scalability.
